{"version":3,"sources":["../../src/pages/tools/climate-tool/climate-tool.module.ts","../../src/pages/tools/climate-tool/climate-tool.ts","../../src/pages/tools/climate-tool/components/climate-tool-components.module.ts","../../src/pages/tools/climate-tool/components/combined-risk/combined-risk.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ClimateToolPage } from './climate-tool';\r\nimport { ClimateToolComponentsModule } from './components/climate-tool-components.module'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ClimateToolPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ClimateToolPage),\r\n    ClimateToolComponentsModule\r\n  ],\r\n  exports: [\r\n    ClimateToolPage\r\n  ]\r\n})\r\nexport class ClimateToolPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tools/climate-tool/climate-tool.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, MenuController, ModalController, LoadingController } from 'ionic-angular';\r\nimport { C3ChartProvider } from '../../../providers/c3-chart/c3-chart';\r\nimport { MalawiDataProvider } from '../../../providers/c3-chart/malawi-data';\r\nimport { CombinedRiskComponentModule} from './components/combined-risk/combined-risk.module'\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-climate-tool',\r\n  templateUrl: 'climate-tool.html',\r\n})\r\nexport class ClimateToolPage{\r\n\r\n  chart: any;\r\n  sites:any;\r\n  selectedSite: any = { SiteName: 'Select A Site' }\r\n  selectedChart:string;\r\n  availableCharts:any;\r\n  showTools:boolean=false;\r\n  showDefinition: boolean = true;\r\n  lineToolValue:number;\r\n  probabilities:any;\r\n  activeChart: any = { name:null***REMOVED***\r\n  crops:any;\r\n  selectedCrop: any = {***REMOVED***\r\n  fullScreenView:boolean = true;\r\n  columns = [];\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public menuCtrl: MenuController,\r\n    public c3Provider: C3ChartProvider,\r\n    public modalCtrl: ModalController,\r\n    public malawiData: MalawiDataProvider,\r\n    public loadingCtrl:LoadingController) {\r\n    \r\n***REMOVED***\r\n\r\n  ionViewDidLoad() {\r\n    // this.c3Provider.generate()\r\n    this.sites=this.c3Provider.datasets\r\n    console.log('sites', this.sites)\r\n    this.selectedSite \r\n    this.crops = this.c3Provider.crops  \r\n***REMOVED***\r\n  ionViewDidEnter(){\r\n    // this.menuCtrl.open();\r\n    this.selectSite();\r\n***REMOVED***\r\n  toggleFullScreen() {\r\n    this.fullScreenView = !this.fullScreenView\r\n    console.log('resize?')\r\n    console.log('screen',window.screen)\r\n    if (!this.fullScreenView) {\r\n      this.c3Provider.resize({\r\n        height: window.screen.height-80,\r\n        width: window.screen.width-20\r\n    ***REMOVED***);\r\n  ***REMOVED***\r\n    else {\r\n      this.c3Provider.resize({\r\n        height: 320,\r\n        width: window.screen.width-20\r\n    ***REMOVED***);\r\n  ***REMOVED***\r\n    \r\n***REMOVED***\r\n  \r\n  siteChanged(){\r\n    this.c3Provider.setDataset(this.selectedSite)\r\n      .then(\r\n        res=>{\r\n          this.columns=res[0]\r\n          this.setAvailableCharts(this.columns)\r\n      ***REMOVED***,\r\n        err=>{console.log('error',err)\r\n      ***REMOVED***\r\n    )\r\n    \r\n***REMOVED***\r\n  setChart(chart) {\r\n    if (chart.name != this.activeChart.name) {\r\n      let loader = this.loadingCtrl.create({\r\n        content: 'Loading...',\r\n        duration: 3000\r\n    ***REMOVED***);\r\n      loader.present().then(() => {\r\n        this.activeChart = {***REMOVED***\r\n        this.activeChart = chart;\r\n        console.log('activeChart', chart)\r\n        this.c3Provider.setChart(chart)\r\n        this.showTools = true;\r\n        this.lineToolValue = null;\r\n        this.selectedCrop = {***REMOVED***\r\n    ***REMOVED***)\r\n  ***REMOVED***\r\n    else {\r\n      this.showTools = true;\r\n  ***REMOVED***\r\n    \r\n    \r\n    \r\n***REMOVED***\r\n  showAllCharts(){\r\n    this.showTools=false\r\n***REMOVED***\r\n  close() {\r\n    this.navCtrl.pop();\r\n***REMOVED***\r\n  selectSite() {\r\n    let profileModal = this.modalCtrl.create(\r\n      'SiteSelectPage',\r\n      {},\r\n      { enableBackdropDismiss: false });\r\n    profileModal.onDidDismiss(site => {\r\n      console.log('site',site)\r\n     this.selectedSite=site\r\n     this.siteChanged()\r\n ***REMOVED***);\r\n    profileModal.present();\r\n***REMOVED***\r\n  setAvailableCharts(list){\r\n    this.availableCharts=[\r\n      {\r\n        name: \"Seasonal Rainfall\", image: \"assets/img/charts/season-rainfall.png\", cropTableValue: 'water', x: \"Rainfall\", yFormat: \"value\", tools: { line: true }, units:'mm',\r\n        definition: \"Seasonal rainfall is defined as the total rain recorded from the start of the season until the end of the season\"\r\n    ***REMOVED***,{\r\n        name: \"Start of Season\", image: \"assets/img/charts/season-start.png\", x: \"Start\", yFormat: \"date-from-July\", tools: { line: false }, units:'',\r\n        definition: \"Start of season is defined as the first occasion (from 1st October) with more than 25mm in a 3 day period and no dry spell of 10 days or more within the following 30 days\"\r\n    ***REMOVED***,{\r\n        name: \"End of Season\", image: \"assets/img/charts/season-end.png\", x: \"End\", yFormat: \"date-from-July\", tools: { line: false }, units:'',\r\n        definition: \"End of season is defined as the last day in the season (1st October - 30th April) with more than 10mm of rainfall.\"\r\n    ***REMOVED***,{\r\n        name: \"Length of Season\", image: \"assets/img/charts/season-length.png\", cropTableValue: 'length', x: \"Length\", yFormat: \"value\", tools: { line: true }, units:'days',\r\n        definition: \"Length of season is defined as the total days from the start of the season until the end of the season as defined\"\r\n    ***REMOVED***,\r\n      // {name: \"Combined Risk\", image: \"assets/img/charts/combined-risk.png\", page: \"CombinedRiskPage\", tools: { line: false }},\r\n    ]\r\n***REMOVED***\r\n  lineToolValueChange(e?){\r\n    //if manually input triggers event so deselect crop\r\n    if(e!=undefined){this.selectedCrop={}}\r\n    this.c3Provider.setLineToolValue(this.lineToolValue)\r\n    this.probabilities = this.c3Provider.calculateProbabilities(this.lineToolValue)\r\n    console.log('probabilities',this.probabilities)\r\n***REMOVED***\r\n  setCrop(crop){\r\n    this.selectedCrop={}\r\n    this.selectedCrop[crop.name]=true\r\n    this.lineToolValue = crop[this.activeChart.cropTableValue + 'Avg'];\r\n    this.lineToolValueChange();\r\n   \r\n***REMOVED***\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tools/climate-tool/climate-tool.ts","import { NgModule } from '@angular/core';\r\nimport { CombinedRiskComponent } from './combined-risk/combined-risk'\r\nimport { IonicModule } from 'ionic-angular'\r\n@NgModule({\r\n    declarations: [CombinedRiskComponent],\r\n    imports: [IonicModule],\r\n    exports: [CombinedRiskComponent]\r\n})\r\nexport class ClimateToolComponentsModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tools/climate-tool/components/climate-tool-components.module.ts","import { Component } from '@angular/core';\r\nimport { C3ChartProvider } from '../../../../../providers/c3-chart/c3-chart';\r\n\r\n@Component({\r\n  selector: 'combined-risk',\r\n  templateUrl: 'combined-risk.html'\r\n})\r\nexport class CombinedRiskComponent {\r\n\r\n  plantDate: any;\r\n  labels: any;\r\n  crops: any;\r\n  startProbability: any = { reversePercentage: null ***REMOVED***\r\n  lengthProbability: any = { reversePercentage: null ***REMOVED***\r\n  selectedCrop: any = {***REMOVED***\r\n  dayValue: number;\r\n  test: string = 'red';\r\n\r\n  constructor(public c3Provider:C3ChartProvider) {\r\n    this.plantDate = {min: 1, max: 8, value:3, step:1}\r\n    this.labels = {\r\n      1: 'Week 1, November',\r\n      2: 'Week 2, November',\r\n      3: 'Week 3, November',\r\n      4: 'Week 4, November',\r\n      5: 'Week 1, December',\r\n      6: 'Week 2, December',\r\n      7: 'Week 3, December',\r\n      8: 'Week 4, December',\r\n  ***REMOVED***\r\n    this.crops = this.c3Provider.crops\r\n    for (let crop of this.crops) {\r\n      this.crops[crop.index].lengthProbability = {reversePercentage:null***REMOVED***\r\n      this.crops[crop.index].rainfallProbability = {reversePercentage:null***REMOVED***\r\n  ***REMOVED***\r\n***REMOVED***\r\n  plantDateChange(e) {\r\n    //manually set 1 October as day 274 and multiple by 7.6 (rough number of days in 1/4 month)\r\n    this.dayValue = 305+(365/48)*this.plantDate.value\r\n    this.startProbability = this.c3Provider.calculateProbability([{key:'Start',value:this.dayValue,operator:'<='}])\r\n    this.calculateCropProbabilities();\r\n    console.log('start probability', this.startProbability)\r\n    console.log('day value',this.dayValue)\r\n***REMOVED***\r\n  calculateCropProbabilities() {\r\n    for (let crop of this.crops) {\r\n      this.crops[crop.index].lengthProbability = this.c3Provider.calculateProbability(\r\n        [\r\n          { key: 'End', value: (this.dayValue+crop.lengthAvg)%366, operator: \">=\" }\r\n        ]\r\n      )\r\n      this.crops[crop.index].rainfallProbability = this.c3Provider.calculateProbability([\r\n        { key:'Rainfall', value:crop.waterAvg*(1+this.plantDate.value/16), operator:\">=\" }\r\n      ]\r\n      )\r\n  ***REMOVED***\r\n    console.log('this.crops',this.crops)\r\n***REMOVED***\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tools/climate-tool/components/combined-risk/combined-risk.ts"],"sourceRoot":""}