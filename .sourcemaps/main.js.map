{"version":3,"sources":["../../src/providers/storage/storage.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/budget-tool/budget-tool.ts","../../src/providers/c3-chart/c3-chart.ts","../../src/providers/c3-chart/malawi-data.ts","../../src/providers/kobo-api.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/youtube-service.ts","../../src/providers/forum-service/forum-service.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { ToastController } from 'ionic-angular'\r\nimport { Platform } from \"ionic-angular\";\r\nimport { Storage } from '@ionic/storage';\r\nimport { FileOpener } from '@ionic-native/file-opener';\r\nimport { File } from '@ionic-native/file';\r\nimport { AngularFireOfflineDatabase, AfoListObservable, AfoObjectObservable } from 'angularfire2-offline/database';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class StorageProvider {\r\n  user: any\r\n// lots of constructor code can be cleaned up after migration to newer version\r\n  constructor(\r\n    public http: Http,\r\n    public storage: Storage,\r\n    public toastCtrl: ToastController,\r\n    public fileOpener: FileOpener,\r\n    public platform: Platform,\r\n    private file: File,\r\n    public afoDatabase: AngularFireOfflineDatabase) {\r\n    \r\n    console.log('storage provider loading, loading user data')\r\n    //check picsa directory exists, create if not\r\n    this.checkFileDirectory('picsa')\r\n  }\r\n  getUser() {\r\n    console.log('getting user')\r\n    return new Promise((resolve, reject) => {\r\n      if (this.user) { console.log('user already loaded'); resolve(this.user) }\r\n      else {\r\n        console.log('loading user from database')\r\n        this.storage.get('user').then((val) => {\r\n          console.log('user loaded from database',val)\r\n          if (val == null) {\r\n            this.user = {}\r\n            this.user.id = this.generatePushID()\r\n            this.user.name = 'anonymous'\r\n            this.user.role = 'extension'\r\n            this.user.group = 'malawi-2017'\r\n            console.log('user created', this.user)\r\n            this.storage.set('user', this.user)\r\n          }\r\n          //old format correction, can be removed in later version\r\n          //added complication as all data saved stringified, so need to distinguish proper user saved as string and \r\n          else if (typeof val == 'string') {\r\n            console.log('upgrading user from legacy')\r\n            let temp = JSON.parse(val)\r\n            if (typeof temp == 'string') {\r\n              this.user = {}\r\n              this.user.name = 'anonymous'\r\n              this.user.id = val\r\n              this.user.role = 'extension'\r\n              this.user.group = 'malawi-2017'\r\n              console.log('user adapted', this.user)\r\n              this.storage.set('user', this.user)\r\n            }\r\n            else {\r\n              this.user = temp\r\n            }\r\n          }\r\n          //fix for old format  \r\n          else if (val.ID) {\r\n            this.user = val\r\n            this.user.id = val.ID\r\n            delete this.user.ID\r\n            this.storage.set('user', this.user)\r\n            console.log('id fixed', this.user)\r\n          }\r\n          else {\r\n            console.log('user loaded successfully', val)\r\n            this.user = val\r\n          }\r\n          resolve(this.user)\r\n        });\r\n      }\r\n    })    \r\n  }\r\n\r\n  saveUser(user) {\r\n    this.storage.set('user',user)\r\n  }\r\n\r\n  get(key) {\r\n    // parse and stringify not strictly required but was used in old version so need to maintain compatibility\r\n    return new Promise((resolve) => {\r\n      this.storage.get(key).then(res=>resolve(JSON.parse(res)))\r\n    })\r\n  }\r\n  set(key, val) {\r\n    console.log('setting',key,val)\r\n    return this.storage.set(key,JSON.stringify(val))\r\n  }\r\n\r\n  save(key, val, id?) {\r\n    // saves local data to db, creating unique id key\r\n    console.log('saving',key,val,id)\r\n    return new Promise((resolve) => {\r\n      if (!id) {\r\n        console.log('generating id')\r\n        id = this.generatePushID()\r\n      }\r\n      console.log('pushing to storage', key, val)\r\n      this.storage.get(key).then((v) => {\r\n        console.log('storage retrieved', v, typeof v)\r\n        if (!v) { v = {}}\r\n        let temp = {}\r\n        //extra code as sometimes user set as object instead of usual string\r\n        if (typeof v == 'object') { temp = v }\r\n        else { temp = JSON.parse(v) || {} }\r\n        temp[id] = val\r\n        console.log('about to set temp',temp)\r\n        this.storage.set(key, JSON.stringify(temp)).then((res) => {\r\n          // attemp to sync to live\r\n          let liveData = {}\r\n          liveData[key]=temp\r\n          this.sync(liveData)\r\n          resolve('success')\r\n        }).catch(err=>console.log('err',err))\r\n      })\r\n    })\r\n  }\r\n\r\n  \r\n  assignPermissions(code) {\r\n    console.log('assigning permissions')\r\n    return new Promise((resolve,reject) => {\r\n      this.loadFile('assets/admin/userPermissions.json').then(res => {\r\n          if(res[code]){\r\n            console.log('profile loaded successfuly succsefully')\r\n            this.user.permissions = res[code]\r\n            console.log('user', this.user)\r\n            this.storage.set('user', this.user).then(_=> resolve(this.user))\r\n        }\r\n          else {\r\n            console.log('no code found',code)\r\n            reject('Invalid code, please try again')\r\n        }\r\n        })\r\n    })\r\n  }\r\n  removePermissions() {\r\n    return new Promise((resolve, reject) => {\r\n      this.user.permissions = {}\r\n      this.save('user', this.user, this.user.id).then(_ => resolve(this.user))\r\n    })\r\n  }    \r\n\r\n  loadFile(url) {\r\n    var options = {}\r\n      return new Promise(resolve => {\r\n        this.http.get(url)\r\n          .map(res => res.json())\r\n          .subscribe(data => {\r\n            resolve(data);\r\n          });\r\n      });\r\n  }\r\n  \r\n  presentToast(message) {\r\n    console.log('creating toast',message)\r\n    let toast = this.toastCtrl.create({\r\n      message: message,\r\n      duration: 3000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n\r\n  generatePushID() {\r\n    var PUSH_CHARS = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\r\n    var lastPushTime = 0;\r\n    var lastRandChars = [];\r\n    var now = new Date().getTime();\r\n    var duplicateTime = (now === lastPushTime);\r\n    lastPushTime = now;\r\n    var timeStampChars = new Array(8);\r\n    for (var i = 7; i >= 0; i--) {\r\n      timeStampChars[i] = PUSH_CHARS.charAt(now % 64);\r\n      now = Math.floor(now / 64);\r\n    }\r\n    if (now !== 0) throw new Error('We should have converted the entire timestamp.');\r\n    var id = timeStampChars.join('');\r\n    if (!duplicateTime) {\r\n      for (i = 0; i < 12; i++) {\r\n        lastRandChars[i] = Math.floor(Math.random() * 64);\r\n      }\r\n    } else {\r\n      for (i = 11; i >= 0 && lastRandChars[i] === 63; i--) {\r\n        lastRandChars[i] = 0;\r\n      }\r\n      lastRandChars[i]++;\r\n    }\r\n    for (i = 0; i < 12; i++) {\r\n      id += PUSH_CHARS.charAt(lastRandChars[i]);\r\n    }\r\n    if (id.length != 20) throw new Error('Length should be 20.');\r\n    return id;\r\n  }\r\n\r\n  sync(data) {\r\n    console.log('syncing data',data)\r\n    // attempts to sync local and live, returns timestamp of successful live sync\r\n    return new Promise((resolve, reject) => {\r\n      //offline - create file backup?\r\n      console.log('creating offline user backup')\r\n      this.checkFileDirectory('backups')\r\n    \r\n      //online\r\n      this.getUser().then(() => {\r\n        console.log('user id', this.user.id)\r\n        this.user.updated = Date.now();\r\n        // sync data in format {key:value}, allows for multiple values\r\n        const promise = this.afoDatabase.object('/users/' + this.user.id).update(data);\r\n        // promise.offline.then(() => console.log('offline data saved to device storage!'));\r\n        promise.then(() => {\r\n          console.log('data saved to Firebase!')\r\n          let temp = { offline: Date.now(), online: Date.now() }\r\n          // save lastbackup data to db\r\n          console.log('temp',temp)\r\n          this.set('lastBackup',temp)\r\n          resolve(temp)\r\n        }).catch(err => console.log('err', err));\r\n      \r\n      })\r\n\r\n    })  \r\n  }\r\n  //can merge code from resources page to single provider (either storage or file)\r\n  //checks for a single directory (assumes picsa directory will already exist)...not adapted for root eg. /picsa/backups/profile/...\r\n  checkFileDirectory(dir?) {\r\n    console.log('checking dir', dir)\r\n    console.log('cordova?',this.platform.is('cordova'))\r\n    if (!this.platform.is('cordova')) { return }\r\n    return new Promise((resolve, reject) => {\r\n        //assumes directory child of picsa, check picsa exists \r\n        this.file.checkDir(this.file.externalApplicationStorageDirectory+'picsa/', dir)\r\n          .then(_ => {\r\n            console.log('directory exists', this.file.externalApplicationStorageDirectory + 'picsa/'+dir)\r\n            resolve('directory exists')\r\n          })\r\n          .catch(err => {\r\n            this.file.createDir(this.file.externalApplicationStorageDirectory+'picsa/', dir, false).then(() => {\r\n              console.log('picsa/'+dir+' directory created')\r\n              resolve('directory created')\r\n            }).catch(err => { reject(err) })\r\n          })\r\n      })    \r\n    } \r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/storage/storage.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 195;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 195\n// module chunks = 14","var map = {\n\t\"../pages/forum/forum-discussion-page/forum-discussion-page.module\": [\n\t\t732,\n\t\t13\n\t],\n\t\"../pages/forum/forum.module\": [\n\t\t731,\n\t\t12\n\t],\n\t\"../pages/home/home.module\": [\n\t\t733,\n\t\t11\n\t],\n\t\"../pages/iframe/iframe.module\": [\n\t\t734,\n\t\t10\n\t],\n\t\"../pages/record-data/record-data.module\": [\n\t\t735,\n\t\t9\n\t],\n\t\"../pages/resources/resources.module\": [\n\t\t736,\n\t\t8\n\t],\n\t\"../pages/settings/settings.module\": [\n\t\t738,\n\t\t7\n\t],\n\t\"../pages/tools/budget-tool/budget-saved/budget-saved.module\": [\n\t\t737,\n\t\t6\n\t],\n\t\"../pages/tools/budget-tool/budget-tool.module\": [\n\t\t739,\n\t\t5\n\t],\n\t\"../pages/tools/budget-tool/card-select/card-select.module\": [\n\t\t740,\n\t\t4\n\t],\n\t\"../pages/tools/climate-tool/climate-tool.module\": [\n\t\t741,\n\t\t1\n\t],\n\t\"../pages/tools/climate-tool/site-select/site-select.module\": [\n\t\t742,\n\t\t0\n\t],\n\t\"../pages/tools/tools.module\": [\n\t\t744,\n\t\t2\n\t],\n\t\"../pages/view-data/view-data.module\": [\n\t\t743,\n\t\t3\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 238;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 238\n// module chunks = 14","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { StorageProvider } from '../storage/storage'\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class BudgetToolProvider {\r\n  allData: any;\r\n  budget: any\r\n\r\n  constructor(public http: Http, public storage: StorageProvider) {\r\n    console.log('Hello BudgetToolProvider Provider');\r\n    this.allData = allData\r\n    //load saved cards\r\n    this.loadSavedCards()\r\n    this.createNewBudget()\r\n  }\r\n  loadSavedCards() {\r\n    this.storage.get('budgetCards').then((res) => {\r\n      console.log('loading saved cards', res)\r\n      for (let key in res) {\r\n        console.log('adding type', res[key].Types)\r\n        res[key].userGenerated=true\r\n        this.allData[res[key].Types].push(res[key])\r\n      }\r\n      console.log('all data', this.allData)\r\n    })\r\n\r\n  }\r\n  createNewBudget() {\r\n    this.budget = {\r\n      name: 'New Budget',\r\n      created: new Date(),\r\n      user: this.storage.user,\r\n      data: [],\r\n      id: this.storage.generatePushID(),\r\n      archived: false\r\n    }\r\n    for (let i = 0; i < 12; i++) {\r\n      var p = {\r\n        index: 0,\r\n        activities: [],\r\n        inputs: [],\r\n        outputs: [],\r\n        familyLabour: { people: 0, days: 0 },\r\n        balance: {\r\n          inputs: {\r\n            total: 0,\r\n            dots: []\r\n          },\r\n          outputs: {\r\n            total: 0,\r\n            dots: []\r\n          },\r\n          consumed: {\r\n            total: 0,\r\n            dots: []\r\n          },\r\n          monthly: {\r\n            total: 0,\r\n            dots: []\r\n          },\r\n          running: {\r\n            total: 0,\r\n            dots: []\r\n          }\r\n        }\r\n      }\r\n      p.index = i + 1\r\n      this.budget.data.push(p)\r\n    }\r\n    return this.budget\r\n  }\r\n  save(budget) {\r\n    // this.storage.set('','')\r\n\r\n  }\r\n  load() {\r\n\r\n  }\r\n}\r\n\r\nvar sampleBudget = [\r\n  {\r\n    index: 1,\r\n    activities: [\r\n      { \"Type\": \"activity\", \"Name\": \"apply fertiliser\", \"Image\": \"assets/img/budget/activity/apply-fertiliser.png\", \"ID\": \"apply-fertiliser\" },\r\n      { \"Type\": \"activity\", \"Name\": \"land clearing\", \"Image\": \"assets/img/budget/activity/land-clearing.png\", \"ID\": \"land-clearing\" },\r\n    ],\r\n    inputs: [\r\n      { \"Type\": \"input\", \"Name\": \"manure wheelbarrows\", \"Image\": \"assets/img/budget/input/manure-wheelbarrows.png\", \"ID\": \"manure-wheelbarrows\", quantity: 5, cost: 200, consumed: 0 },\r\n      { \"Type\": \"input\", \"Name\": \"seeds\", \"Image\": \"assets/img/budget/input/seeds.png\", \"ID\": \"seeds\", quantity: 1, cost: 500, consumed: 0 },\r\n    ],\r\n    outputs: [\r\n      { \"Type\": \"output\", \"Name\": \"crop\", \"Image\": \"assets/img/budget/output/crop.png\", \"ID\": \"crop\", quantity: 6, cost: 200, consumed: 1 },\r\n    ],\r\n    familyLabour: {\r\n      people: 3,\r\n      days: 4\r\n    },\r\n  }\r\n  ,\r\n  {\r\n    index: 2,\r\n    activities: [\r\n      { \"Type\": \"activity\", \"Name\": \"apply fertiliser\", \"Image\": \"assets/img/budget/activity/apply-fertiliser.png\", \"ID\": \"apply-fertiliser\" },\r\n    ],\r\n    inputs: [\r\n      { \"Type\": \"input\", \"Name\": \"manure wheelbarrows\", \"Image\": \"assets/img/budget/input/manure-wheelbarrows.png\", \"ID\": \"manure-wheelbarrows\", quantity: 5, cost: 200 },\r\n    ],\r\n    outputs: [\r\n      { \"Type\": \"output\", \"Name\": \"crop\", \"Image\": \"assets/img/budget/output/crop.png\", \"ID\": \"crop\", quantity: 6, consumed: 1 },\r\n    ],\r\n    familyLabour: { people: 0, days: 0 },\r\n\r\n  },\r\n  {\r\n    index: 3,\r\n    activities: [\r\n      { \"Type\": \"activity\", \"Name\": \"apply fertiliser\", \"Image\": \"assets/img/budget/activity/apply-fertiliser.png\", \"ID\": \"apply-fertiliser\" },\r\n    ],\r\n    inputs: [\r\n      { \"Type\": \"input\", \"Name\": \"manure wheelbarrows\", \"Image\": \"assets/img/budget/input/manure-wheelbarrows.png\", \"ID\": \"manure-wheelbarrows\", quantity: 5, cost: 200 },\r\n    ],\r\n    outputs: [],\r\n    familyLabour: { people: 0, days: 0 },\r\n\r\n  },\r\n  {\r\n    index: 4,\r\n    activities: [\r\n      { \"Type\": \"activity\", \"Name\": \"apply fertiliser\", \"Image\": \"assets/img/budget/activity/apply-fertiliser.png\", \"ID\": \"apply-fertiliser\" },\r\n    ],\r\n    inputs: [\r\n      { \"Type\": \"input\", \"Name\": \"manure wheelbarrows\", \"Image\": \"assets/img/budget/input/manure-wheelbarrows.png\", \"ID\": \"manure-wheelbarrows\", quantity: 5, cost: 200 },\r\n    ],\r\n    outputs: [],\r\n    familyLabour: { people: 0, days: 0 },\r\n  },\r\n  {\r\n    index: 5,\r\n    activities: [\r\n      { \"Type\": \"activity\", \"Name\": \"apply fertiliser\", \"Image\": \"assets/img/budget/activity/apply-fertiliser.png\", \"ID\": \"apply-fertiliser\" },\r\n    ],\r\n    inputs: [\r\n      { \"Type\": \"input\", \"Name\": \"manure wheelbarrows\", \"Image\": \"assets/img/budget/input/manure-wheelbarrows.png\", \"ID\": \"manure-wheelbarrows\", quantity: 5, cost: 200 },\r\n    ],\r\n    outputs: [],\r\n    familyLabour: { people: 0, days: 0 },\r\n  },\r\n\r\n]\r\n\r\nvar allData = {\r\n  activities: [\r\n    { \"Type\": \"activity\", \"Name\": \"apply fertiliser\", \"Image\": \"assets/img/budget/activity/apply-fertiliser.png\", \"ID\": \"apply-fertiliser\" },\r\n    { \"Type\": \"activity\", \"Name\": \"apply pesticide\", \"Image\": \"assets/img/budget/activity/apply-pesticide.png\", \"ID\": \"apply-pesticide\" },\r\n    { \"Type\": \"activity\", \"Name\": \"bagging\", \"Image\": \"assets/img/budget/activity/bagging.png\", \"ID\": \"bagging\" },\r\n    { \"Type\": \"activity\", \"Name\": \"compost manure making\", \"Image\": \"assets/img/budget/activity/compost-manure-making.png\", \"ID\": \"compost-manure-making\" },\r\n    { \"Type\": \"activity\", \"Name\": \"harvesting\", \"Image\": \"assets/img/budget/activity/harvesting.png\", \"ID\": \"harvesting\" },\r\n    { \"Type\": \"activity\", \"Name\": \"land clearing\", \"Image\": \"assets/img/budget/activity/land-clearing.png\", \"ID\": \"land-clearing\" },\r\n    { \"Type\": \"activity\", \"Name\": \"marketing and selling\", \"Image\": \"assets/img/budget/activity/marketing-and-selling.png\", \"ID\": \"marketing-and-selling\" },\r\n    { \"Type\": \"activity\", \"Name\": \"mulching\", \"Image\": \"assets/img/budget/activity/mulching.png\", \"ID\": \"mulching\" },\r\n    { \"Type\": \"activity\", \"Name\": \"ploughing\", \"Image\": \"assets/img/budget/activity/ploughing.png\", \"ID\": \"ploughing\" },\r\n    { \"Type\": \"activity\", \"Name\": \"shelling\", \"Image\": \"assets/img/budget/activity/shelling.png\", \"ID\": \"shelling\" },\r\n    { \"Type\": \"activity\", \"Name\": \"sowing\", \"Image\": \"assets/img/budget/activity/sowing.png\", \"ID\": \"sowing\" },\r\n    { \"Type\": \"activity\", \"Name\": \"storage\", \"Image\": \"assets/img/budget/activity/storage.png\", \"ID\": \"storage\" },\r\n    { \"Type\": \"activity\", \"Name\": \"threshing\", \"Image\": \"assets/img/budget/activity/threshing.png\", \"ID\": \"threshing\" },\r\n    { \"Type\": \"activity\", \"Name\": \"transport\", \"Image\": \"assets/img/budget/activity/transport.png\", \"ID\": \"transport\" },\r\n    { \"Type\": \"activity\", \"Name\": \"watering\", \"Image\": \"assets/img/budget/activity/watering.png\", \"ID\": \"watering\" },\r\n    { \"Type\": \"activity\", \"Name\": \"weeding\", \"Image\": \"assets/img/budget/activity/weeding.png\", \"ID\": \"weeding\" },\r\n  ],\r\n  inputs: [\r\n    { \"Type\": \"input\", \"Name\": \"bags\", \"Image\": \"assets/img/budget/input/bags.png\", \"ID\": \"bags\" },\r\n    { \"Type\": \"input\", \"Name\": \"chemicals\", \"Image\": \"assets/img/budget/input/chemicals.png\", \"ID\": \"chemicals\" },\r\n    { \"Type\": \"input\", \"Name\": \"fertiliser\", \"Image\": \"assets/img/budget/input/fertiliser.png\", \"ID\": \"fertiliser\" },\r\n    { \"Type\": \"input\", \"Name\": \"hire ox cart\", \"Image\": \"assets/img/budget/input/hire-ox-cart.png\", \"ID\": \"hire-ox-cart\" },\r\n    { \"Type\": \"input\", \"Name\": \"labour - paid\", \"Image\": \"assets/img/budget/input/labour---paid.png\", \"ID\": \"labour---paid\" },\r\n    { \"Type\": \"input\", \"Name\": \"manure sacks\", \"Image\": \"assets/img/budget/input/manure-sacks.png\", \"ID\": \"manure-sacks\" },\r\n    { \"Type\": \"input\", \"Name\": \"manure wheelbarrows\", \"Image\": \"assets/img/budget/input/manure-wheelbarrows.png\", \"ID\": \"manure-wheelbarrows\" },\r\n    { \"Type\": \"input\", \"Name\": \"pot for storage\", \"Image\": \"assets/img/budget/input/pot-for-storage.png\", \"ID\": \"pot-for-storage\" },\r\n    { \"Type\": \"input\", \"Name\": \"protective equipment\", \"Image\": \"assets/img/budget/input/protective-equipment.png\", \"ID\": \"protective-equipment\" },\r\n    { \"Type\": \"input\", \"Name\": \"seeds\", \"Image\": \"assets/img/budget/input/seeds.png\", \"ID\": \"seeds\" },\r\n    { \"Type\": \"input\", \"Name\": \"sheller hire\", \"Image\": \"assets/img/budget/input/sheller-hire.png\", \"ID\": \"sheller-hire\" },\r\n    { \"Type\": \"input\", \"Name\": \"tools\", \"Image\": \"assets/img/budget/input/tools.png\", \"ID\": \"tools\" },\r\n    { \"Type\": \"input\", \"Name\": \"tractor hire\", \"Image\": \"assets/img/budget/input/tractor-hire.png\", \"ID\": \"tractor-hire\" },\r\n    { \"Type\": \"input\", \"Name\": \"transportation hire\", \"Image\": \"assets/img/budget/input/transportation-hire.png\", \"ID\": \"transportation-hire\" },\r\n    { \"Type\": \"input\", \"Name\": \"wood\", \"Image\": \"assets/img/budget/input/wood.png\", \"ID\": \"wood\" },\r\n  ],\r\n  outputs: [\r\n    { \"Type\": \"output\", \"Name\": \"crop\", \"Image\": \"assets/img/budget/output/crop.png\", \"ID\": \"crop\", \"consumed\": 0 },\r\n    { \"Type\": \"output\", \"Name\": \"manure for compost\", \"Image\": \"assets/img/budget/output/manure-for-compost.png\", \"ID\": \"manure-for-compost\", \"consumed\": 0 },\r\n    { \"Type\": \"output\", \"Name\": \"money\", \"Image\": \"assets/img/budget/output/money.png\", \"ID\": \"money\", \"consumed\": 0 },\r\n    { \"Type\": \"output\", \"Name\": \"wood\", \"Image\": \"assets/img/budget/output/wood.png\", \"ID\": \"wood\", \"consumed\": 0 }\r\n  ]\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/budget-tool/budget-tool.ts","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\n// import { File } from '@ionic-native/file';\r\nimport * as c3 from 'c3';\r\nimport * as Papa from 'papaparse';\r\nimport { Platform } from 'ionic-angular';\r\n\r\ndeclare let d3;\r\n\r\n@Injectable()\r\nexport class C3ChartProvider {\r\n  public datasets: any;\r\n  public columns: any;\r\n  public chart: any;\r\n  public activeChart: any = {};\r\n  public lineToolValues: any = {};\r\n  public lineToolActive: boolean = false;\r\n  \r\n  site: any;\r\n  columnsObserver: any;\r\n  initialRender: boolean = true;\r\n  crops: any;\r\n  constructor(public http: Http, private platform: Platform) {\r\n    this.activeChart.x = \"Rainfall\"\r\n    this.crops = [\r\n      { index: 0, name: 'Maize', waterMin: 405, waterMax: 660, waterAvg: 580, lengthMin: 90, lengthMax: 145, lengthAvg: 130, image: \"assets/img/crops/maize.jpg\" },\r\n      { index:1,name: 'Groundnuts', waterMin: 405, waterMax: 675, waterAvg: 540, lengthMin: 90, lengthMax:150, lengthAvg: 120, image: \"assets/img/crops/groundnuts.jpg\" },\r\n      { index: 2, name: 'Sorghum', waterMin: 450, waterMax: 540, waterAvg: 500, lengthMin: 100, lengthMax: 120, lengthAvg: 110, image: \"assets/img/crops/sorghum.jpg\" },\r\n    ]\r\n  }\r\n  loadData() {\r\n    // if (this.platform.is('core')) {\r\n    //   //use file api\r\n    //   console.log('loading demo data')\r\n      \r\n    // }\r\n    // if (this.platform.is('mobile')) {\r\n    //   //use cordova\r\n    //   this.file.checkDir(this.file.dataDirectory, 'mydir')\r\n    //     .then(_ => console.log('Directory exists'))\r\n    //     .catch(err => console.log('Directory doesnt exist'));\r\n    // }\r\n  }\r\n\r\n  generate(x) {\r\n    console.log('active chart',this.activeChart)\r\n    var s = this.site\r\n    var keys = []\r\n    for (let key in s.summaries[0]) { keys.push(key) }\r\n    this.chart = c3.generate({\r\n      bindto: '#chart',\r\n      size: {\r\n        height: 320\r\n      },\r\n      data: {\r\n        json: s.summaries,\r\n        hide: true,\r\n        keys: {\r\n          value: keys\r\n        },\r\n        x:'Year',\r\n        classes: { LineTool: 'LineTool' },\r\n        color: function (color, d) {\r\n          if (d.value >= this.lineToolValues[this.activeChart.x]) {\r\n            return '#739B65'\r\n          }\r\n          if (d.value < this.lineToolValues[this.activeChart.x]) {\r\n            return '#BF7720'\r\n          }\r\n          return seriesColors[this.activeChart.x]\r\n        }.bind(this)\r\n      },\r\n      tooltip: {\r\n        grouped:false,\r\n        format: {\r\n          // title: function (d) { return 'Data ' + d; },\r\n          value: function (value, ratio, id) {\r\n            if (this.activeChart.yFormat == 'value') {\r\n              return parseInt(value).toString() + \" \"+this.activeChart.units;\r\n            }\r\n            else {\r\n              return this.formatAxis(value, this.activeChart.yFormat)+\" \"+this.activeChart.units\r\n            }\r\n            \r\n          }.bind(this)\r\n        }\r\n      },\r\n      axis: {\r\n        y: {\r\n          tick: {\r\n            format: function (d) {\r\n\r\n              return this.formatAxis(d, this.activeChart.yFormat)\r\n            }.bind(this)\r\n          }\r\n        }\r\n      },\r\n      legend: {\r\n        hide:true\r\n      },\r\n      point: {\r\n        r: function (d) {\r\n          // if(d.value>this.lineToolValue){\r\n          //   return 8\r\n          // }\r\n          return 5\r\n        }.bind(this)\r\n      },\r\n      // tooltip: {\r\n      //   // grouped: false,\r\n        \r\n      //   // contents: function (d, defaultTitleFormat, defaultValueFormat, color) {\r\n      //   //   // console.log(d)\r\n      //   //   var units = this.activeChart.units\r\n      //   //   var tooltip;\r\n      //   //   //add different tooltip for null years\r\n      //   //   if (d[0].value == null) {\r\n      //   //     tooltip = '<div style=\"width: 140px;background-color: #fdff7a;font-size:larger;border:2px solid black>'\r\n      //   //       + 'No data available</div>'\r\n      //   //   }\r\n      //   //   else {\r\n      //   //     tooltip = '<div style=\"width: 140px;background-color: #fdff7a;font-size: larger;border:border:2px solid black\">'\r\n      //   //       + '<strong>' + d[0].x + '</strong><br><br>'\r\n      //   //       + Math.round(d[0].value) + ' ' + units + '</div>'\r\n      //   //       + '<div>' + defaultTitleFormat + '</div>'\r\n      //   //       + '<div>' + defaultValueFormat + '</div>'\r\n      //   //   }\r\n      //   //   return tooltip\r\n      //   // }.bind(this)\r\n      // },\r\n      onrendered: function () {\r\n        this.firstRender()\r\n      }.bind(this)\r\n    })\r\n    //this.chart.show(\"SeasonA\")\r\n    // this.chart.show(\"Year\")\r\n\r\n  }\r\n\r\n  firstRender() {\r\n    if (this.initialRender) {\r\n      // this.setChart({ x: 'Total Rainfall SeasonA' })\r\n      this.initialRender = false\r\n    }\r\n  }\r\n  setDataset(site) {\r\n    this.site = site\r\n    console.log('loading file', site.filePath)\r\n    //try to load cache first\r\n    //load from csv\r\n    return new Promise((resolve, reject) => {\r\n      Papa.parse(site.filePath, {\r\n        download: true,\r\n        dynamicTyping: true,\r\n        header: true,\r\n        complete: function (res, file) {\r\n          this.site.summaries = res.data\r\n          //process data\r\n          console.log('site', this.site)\r\n          //create first dummy set\r\n          this.generate('Rainfall')\r\n          resolve(this.site)\r\n        }.bind(this),\r\n        error: function (err) { reject(err) }\r\n      }, )\r\n    })\r\n  }\r\n\r\n  setChart(chart) {\r\n    if (this.chart) {\r\n      console.log('setting chart', chart.x)\r\n      this.activeChart = chart\r\n      this.chart.hide();\r\n      this.chart.legend.hide();\r\n      this.chart.show(chart.x, {withLegend: true});\r\n    } \r\n  }\r\n\r\n  resize(size) {\r\n    console.log('resizing chart',size)\r\n    this.chart.resize({\r\n      height: size.height,\r\n      width: size.width\r\n    });\r\n  }\r\n  setLineToolValue(value) {\r\n    this.lineToolValues[this.activeChart.x] = value\r\n    var lineArray = Array(this.site.summaries.length).fill(value)\r\n    lineArray.unshift('LineTool')\r\n    this.chart.load({\r\n      columns: [lineArray],\r\n      classes: { LineTool: 'LineTool' }\r\n    });\r\n    this.chart.show('LineTool', { withLegend: true });\r\n  }\r\n  calculateProbabilities(value) {\r\n    let points = this.chart.data.values(this.activeChart.x)\r\n    let above = 0, below = 0, ratio = [0, 0]\r\n    for (let point of points) {\r\n      if (point != null) {\r\n        if (point >= value) { above++ }\r\n        else { below++ }\r\n      }\r\n    }\r\n    var percentage = (above / (above + below));\r\n    var reversePercentage = 1-percentage;\r\n    var i = Math.round((below + above) / (above))\r\n    var j = Math.round((below + above) / (below))\r\n    if (above != 0 && above <= below) { ratio = [1, i - 1] }\r\n    if (below != 0 && below <= above) { ratio = [j - 1, 1] }\r\n    var tens = {\r\n      above: Array(Math.round(percentage * 10)).fill(1),\r\n      below: Array(Math.round(reversePercentage * 10)).fill(-1),\r\n      value: Math.round(percentage*10)*10\r\n    }\r\n    return {\r\n      above: above,\r\n      below: below,\r\n      percentage: percentage,\r\n      reversePercentage: reversePercentage,\r\n      ratio: ratio,\r\n      tens: tens\r\n    }\r\n  }\r\n  calculateProbability(conditions) {\r\n    //conditions are defined in format {key1:valueToTest1, key2:valueToTest2...}\r\n    var data = this.site.summaries\r\n    console.log('data',data)\r\n    //remove values where conditions aren't known - current assumes null values non-numerical (e.g. string or null, may want to change later)\r\n    for (let condition of conditions) {\r\n      console.log('testing condition',condition)\r\n      var key = condition.key;\r\n      var value = condition.value\r\n      data = data.filter(element => {\r\n        return typeof(element[key]) == 'number'\r\n      });\r\n    }\r\n    //filter based on coditions\r\n    var length = data.length\r\n    for (let condition of conditions) {\r\n      var key = condition.key;\r\n      var value = condition.value\r\n      if (condition.operator == '>=') {\r\n        data = data.filter(element => {\r\n          return element[key] >= value\r\n        });\r\n      }\r\n      if (condition.operator == '<=') {\r\n        data = data.filter(element => {\r\n          return element[key] <= value\r\n        });\r\n      }\r\n    }\r\n    var percentage = data.length / length\r\n    var colors = {\r\n      0: '#BF7720',\r\n      10: '#B77A26',\r\n      20: '#AF7E2D',\r\n      30: '#A88134',\r\n      40: '#A0853B',\r\n      50: '#998942',\r\n      60: '#918C49',\r\n      70: '#899050',\r\n      80: '#829357',\r\n      90: '#7A975E',\r\n      100: '#739B65'\r\n    }\r\n    var color = colors[Math.round(percentage*10)*10]\r\n    return {\r\n      results:data,\r\n      percentage: percentage,\r\n      reversePercentage: 1 - percentage,\r\n      color : color\r\n    }\r\n\r\n  }\r\n  formatAxis(value, type) {\r\n    if (type == 'date-from-July') {\r\n      //181 based on local met +182 and -1 for index starting at 0\r\n      let dayNumber = (value + 181) % 366\r\n      //simply converts number to day rough date value (same method as local met office)\r\n      //initialise year\r\n      let d = new Date(2001, 0)\r\n      d.setDate(dayNumber)\r\n      var monthNames = [\"Jan\", \"Feb\", \"Mar\",\"Apr\", \"May\", \"Jun\", \"Jul\",\"Aug\", \"Sep\", \"Oct\",\"Nov\", \"Dec\",\"Jan\"];\r\n      var string = d.getDate()+'-'+monthNames[d.getMonth()]\r\n      return string\r\n    }\r\n    else if (type == 'value') { return value }\r\n    else return value\r\n  }\r\n}\r\n\r\nvar seriesColors = {\r\n  \"Rainfall\": '#377eb8',\r\n  \"Start\": '#e41a1c',\r\n  \"End\": '#984ea3',\r\n  \"Length\": '#4daf4a',\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/c3-chart/c3-chart.ts","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport class MalawiDataProvider {\r\n  metaData: any;\r\n\r\n  constructor(public http: Http) {\r\n    console.log('Hello MalawiDataProvider Provider');\r\n    this.getMetaData();\r\n    \r\n  }\r\n\r\n  getMetaData() {\r\n    return new Promise(resolve => {\r\n      if (this.metaData) { resolve (this.metaData) }\r\n      else {\r\n        this.loadFile('assets/datasets/metadata.json').then(res => {\r\n          this.metaData = res;\r\n          resolve (this.metaData)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  loadFile(url) {\r\n    var options = {}\r\n    if (!this.metaData) {\r\n      return new Promise(resolve => {\r\n        this.http.get(url)\r\n          .map(res => res.json())\r\n          .subscribe(data => {\r\n            resolve(data);\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/c3-chart/malawi-data.ts","import { Injectable } from '@angular/core';\r\nimport { Http, RequestOptions, Headers } from '@angular/http';\r\n\r\nimport {Observable} from 'rxjs/Rx'\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\nimport {Platform} from \"ionic-angular\";\r\n\r\n@Injectable()\r\n\r\nexport class KoboApi {\r\n  data:any;\r\n  forms:any;\r\n  apiToken:string='a78968265b8a7049f829062ad3c8759fa53f5b89';\r\n\r\n  constructor(private http:Http, public platform:Platform) {\r\n    console.log('kobo api provider loaded');\r\n    console.log(this.platform);\r\n    console.log(this.platform.is('cordova'))\r\n  }\r\n\r\n  //perform get request for mobile, or post for browser\r\n  koboRequest(url):Observable<any> {\r\n    var headers = new Headers();\r\n    //use username/password auth. Useful if user inputs username/password in the app\r\n    /*let auth = ('Basic ' + btoa('username:password'));*/\r\n    //use token authentication\r\n    let auth = ('Token ' + this.apiToken);\r\n    headers.append('Authorization', auth);\r\n    let options = new RequestOptions({headers: headers});\r\n\r\n    //if using browser preview request will need to be sent via proxy site\r\n    if (this.platform.is('mobile')) {\r\n      console.log('getting direct from mobile');\r\n      return this.http.get(url, options)\r\n          .map(function (res) {\r\n            let result = JSON.parse(res['_body']);\r\n            console.log(result);\r\n            return result\r\n          })\r\n          .catch((error: any) => Observable.throw(error.json().error || 'Server error'))\r\n    }\r\n    else {\r\n      console.log('getting via stats4sd kobo api post');\r\n      let body = {url: url};\r\n        return this.http.post('http://kobo-api.stats4sd.org', body, options)\r\n          .map(function (res) {\r\n            let result = JSON.parse(res['_body']);\r\n            console.log(result);\r\n            return result\r\n          })\r\n          .catch((error: any) => Observable.throw(error.json().error || 'Server error'))\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/kobo-api.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpModule, Http } from '@angular/http';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { File } from '@ionic-native/file';\r\n// Ionic native modules\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { Network} from '@ionic-native/network';\r\nimport { PdfViewerComponent } from 'ng2-pdf-viewer';\r\nimport { CanvasWhiteboardModule } from 'ng2-canvas-whiteboard';\r\nimport { FileOpener } from '@ionic-native/file-opener';\r\n// App pages\r\nimport { MyApp } from './app.component';\r\n// Angular fire 2\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { AngularFireAuthModule } from 'angularfire2/auth';\r\nimport { AngularFireOfflineModule } from 'angularfire2-offline';\r\n// Providers\r\nimport {KoboApi} from \"../providers/kobo-api\";\r\n// import {FileService} from \"../providers/file-service\";\r\nimport {YoutubeService} from '../providers/youtube-service';\r\nimport { C3ChartProvider } from '../providers/c3-chart/c3-chart';\r\nimport { ForumServiceProvider } from '../providers/forum-service/forum-service';\r\nimport { MalawiDataProvider } from '../providers/c3-chart/malawi-data';\r\nimport { BudgetToolProvider } from '../providers/budget-tool/budget-tool';\r\nimport { StorageProvider } from '../providers/storage/storage';\r\n\r\n\r\n// AF2 Settings\r\nexport const firebaseConfig = {\r\n  apiKey: \"AIzaSyCHzsaVc4TuG3QMFjI_SKP1Px-E5QRglcM\",\r\n  authDomain: \"extension-toolkit.firebaseapp.com\",\r\n  databaseURL: \"https://extension-toolkit.firebaseio.com\",\r\n  storageBucket: \"extension-toolkit.appspot.com\",\r\n  messagingSenderId: \"249750594240\"\r\n};\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n  ],\r\n  imports: [\r\n    IonicModule.forRoot(MyApp),\r\n    AngularFireModule.initializeApp(firebaseConfig),\r\n    AngularFireDatabaseModule,\r\n    AngularFireAuthModule,\r\n    AngularFireOfflineModule,\r\n    IonicStorageModule.forRoot({\r\n      name: '__picsa',\r\n    }),\r\n    BrowserModule,\r\n    HttpModule,\r\n    CanvasWhiteboardModule\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n  ],\r\n\r\n  providers: [{ provide: ErrorHandler, useClass: IonicErrorHandler },\r\n    KoboApi,\r\n    YoutubeService,\r\n    // FileService,\r\n    SplashScreen,\r\n    C3ChartProvider,\r\n    Network,\r\n    ForumServiceProvider,\r\n    MalawiDataProvider,\r\n    BudgetToolProvider,\r\n    StorageProvider,\r\n    FileOpener,\r\n    File\r\n    ]\r\n\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\r\nimport { Events, Platform } from 'ionic-angular';\r\nimport { SplashScreen } from '@ionic-native/splash-screen'\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { HomePage } from '../pages/home/home';\r\ndeclare var FCMPlugin\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage = 'HomePage';\r\n  constructor(platform: Platform, public events: Events, splashScreen: SplashScreen) {\r\n    platform.ready().then(() => {\r\n      setTimeout(() => {\r\n        splashScreen.hide();\r\n      }, 100);\r\n      if (platform.is('android')) {\r\n        FCMPlugin.getToken(\r\n          function (token) {\r\n            console.log('subscribing to fcm topic \"chris\"')\r\n            FCMPlugin.subscribeToTopic('chris');\r\n          },\r\n          function (err) {\r\n            console.log('error retrieving token: ' + err);\r\n          }\r\n        )\r\n      }\r\n      \r\n    });\r\n  }\r\n  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Http, URLSearchParams, Response } from '@angular/http';\r\nimport { Injectable} from '@angular/core';\r\n// import { window } from '@angular/platform-browser/src/facade/browser';\r\n\r\n\r\n@Injectable()\r\nexport class YoutubeService {\r\n  youtube: any = {\r\n    ready: false,\r\n    player: null,\r\n    playerId: null,\r\n    videoId: null,\r\n    videoTitle: null,\r\n    playerHeight: '100%',\r\n    playerWidth: '100%'\r\n  }\r\n\r\n  constructor () {\r\n      this.setupPlayer();\r\n  }\r\n\r\n  createPlayer(videoId): void {\r\n    // const YT = window['YT']\r\n    // this.youtube.player= YT.Player(this.youtube.playerId, {\r\n    //   height: this.youtube.playerHeight,\r\n    //   width: this.youtube.playerWidth,\r\n    //   videoId: videoId,\r\n    //   playerVars: {\r\n    //     rel: 0,\r\n    //     showinfo: 0,\r\n    //     modestbranding:1\r\n    //   },\r\n    //   events: {\r\n    //         'onReady': this.onPlayerReady,\r\n    //         'onStateChange': this.onPlayerStateChange\r\n    //       }\r\n    // });\r\n    console.log('youtube player created');\r\n    console.log(this.youtube.player);\r\n  }\r\n\r\n  onPlayerReady(event){\r\n    event.target.playVideo();\r\n    console.log('onPlayerReady')\r\n  }\r\n  onPlayerStateChange(){\r\n    console.log('onPlayerStateChange')\r\n  }\r\n\r\n  loadPlayer(): void {\r\n    if (this.youtube.ready && this.youtube.playerId) {\r\n      if (this.youtube.player) {\r\n      this.youtube.player.destroy();\r\n      }\r\n      this.youtube.player = this.createPlayer('M7lc1UVf-VE');\r\n    }\r\n  }\r\n\r\n  setupPlayer () {\r\n    console.log (\"Running Setup Player\");\r\n    window['onYouTubeIframeAPIReady'] = () => {\r\n      if (window['YT']) {\r\n         console.log('Youtube API is ready');\r\n         this.youtube.ready = true;\r\n         this.youtube.playerId = 'placeholder';\r\n         this.loadPlayer();\r\n      }\r\n    };\r\n    // if (window.YT && window.YT.Player) {\r\n    //         console.log('Youtube Player is ready');\r\n    //      this.youtube.ready = true;\r\n    //      this.youtube.playerId = 'placeholder';\r\n    //      this.loadPlayer();\r\n    // }\r\n  }\r\n\r\n  launchPlayer(id, title):void {\r\n    this.createPlayer(id.videoId)\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/youtube-service.ts","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport 'rxjs/add/operator/map';\r\n\r\n/*\r\n  Generated class for the ForumServiceProvider provider.\r\n\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular 2 DI.\r\n*/\r\n@Injectable()\r\nexport class ForumServiceProvider {\r\n\r\n  constructor(public http: Http) {\r\n    console.log('Hello ForumServiceProvider Provider');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/forum-service/forum-service.ts"],"sourceRoot":""}