<div style="height: 100%">
  <!-- <load-budget *ngIf="!(budget$ | async)"></load-budget> -->
  <ion-slides #slides class="budget-slides" *ngIf="budget$ | async">
    <!-- New budget enterprise select slide -->
    <ion-slide class="budget-slide">
      <div padding>
        <h2>{{'Type of Enterprise' | translate}}</h2>
        <budget-meta-card *ngFor="let type of enterpriseTypes" valuePath="enterpriseType" [card]="type" type="enterprise"></budget-meta-card>
        <div *ngIf="showIndividualEnterprises">
          <h2>{{'Select Enterprise' | translate}}</h2>
          <budget-meta-card *ngFor="let enterprise of filteredEnterprises" valuePath="enterprise" [card]="enterprise"
            type="enterprise"></budget-meta-card>
          <budget-new-card *ngIf="(enterpriseType$ | async) =='other'" newCardType="enterprises" type="enterprise"></budget-new-card>
        </div>
        <button ion-button color="primary-inverse" [disabled]="!(enterprise$ | async) || !(enterpriseType$ | async)"
          block outline icon-right round (click)="nextSlide()">{{'Continue' | translate}}
          <ion-icon name="arrow-round-forward"></ion-icon>
        </button>
      </div>
    </ion-slide>
    <!-- time periods select slide *** could be tidies or split *** -->
    <ion-slide padding class="budget-slide" *ngIf="(enterprise$ | async)">
      <h2>{{'Time Periods' | translate}}</h2>
      <div *ngIf="budget.periods && budget.periods.labels" class="time-period-table">
        <div class="time-period" *ngFor="let period of budget.periods.labels">
          {{period | translate}}
        </div>
      </div>
      <ion-list padding *ngIf="budget.periods">
        <ion-item>
          <ion-label icon-left>
            <ion-icon name="calendar"></ion-icon>
            {{'Measured in' | translate}}
          </ion-label>
          <ion-select [(ngModel)]="budget.periods.scale" (ionChange)="calculatePeriod()">
            <ion-option *ngFor="let scale of timescales" [value]="scale">{{scale | translate}}</ion-option>
          </ion-select>
        </ion-item>
        <ion-item *ngIf="budget.periods.scale=='Days' || budget.periods.scale=='Months'">
          <ion-label icon-left>
            <ion-icon name="alarm"></ion-icon>
            {{'Starting' | translate}}
          </ion-label>
          <ion-select *ngIf="budget.periods.scale=='Days'" (ionChange)="calculatePeriod('Days')" [(ngModel)]="budget.periods.starting">
            <ion-option *ngFor="let day of days" [value]="day">{{day | translate}}</ion-option>
          </ion-select>
          <ion-select *ngIf="budget.periods.scale=='Months'" (ionChange)="calculatePeriod('Months')" [(ngModel)]="budget.periods.starting">
            <ion-option *ngFor="let month of months" [value]="month">{{month | translate}}</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label inset icon-left>
            <ion-icon name="calculator"></ion-icon>
            {{'Total Periods' | translate}}
          </ion-label>
          <ion-input (ionBlur)="calculatePeriod()" (ionFocus)="clearPeriodInput()" type="number" [(ngModel)]="budget.periods.total"
            class="input-right"></ion-input>
        </ion-item>
      </ion-list>
      <button ion-button color="primary-inverse" [disabled]="!(enterprise$ | async)" block outline icon-right round
        (click)="nextSlide()">{{'Continue' | translate}}
        <ion-icon name="arrow-round-forward"></ion-icon>
      </button>
    </ion-slide>
    <!-- budget title slide -->
    <ion-slide padding class="budget-slide" *ngIf="(timescale$ | async)">
      <h2>{{'Budget Title' | translate}}</h2>
      <ion-list>
        <ion-item>
          <ion-label floating icon-left>
            <ion-icon name="bookmark"></ion-icon>
            {{'Enter a name for your budget' | translate}}
          </ion-label>
          <ion-input type="text" [(ngModel)]="budget.title"></ion-input>
        </ion-item>
        <ion-item style="margin-top:1em">
          <ion-label floating icon-left>
            <ion-icon name="create"></ion-icon>
            {{'(optional) Description' | translate}}
          </ion-label>
          <ion-textarea type="text" [(ngModel)]="budget.description"></ion-textarea>
        </ion-item>
        <!-- <ion-item>
          <ion-label icon-left>
            <ion-icon name="podium"></ion-icon>
            Scale of Enterprise</ion-label>
          <ion-input *ngIf="budget.enterprise=='crop'" [(ngModel)]="budget.enterpriseScale" type="number" placeholder="number of acres"
            class="input-right"></ion-input>
          <ion-input *ngIf="budget.enterprise=='livestock'" [(ngModel)]="budget.enterpriseScale" type="number" placeholder="number of animals"
            class="input-right"></ion-input>
          <ion-textarea class="smaller-font" *ngIf="budget.enterprise=='livelihood'" [(ngModel)]="budget.enterpriseScale" type="text"
            placeholder="please describe in words (e.g. number of shops, beehives etc.)" class="input-right"></ion-textarea>
        </ion-item> -->
      </ion-list>
      <button ion-button color="primary-inverse" [disabled]="!budget.title" block outline icon-right round (click)="viewBudget()">
        {{'View Budget' | translate}}
      </button>
    </ion-slide>
  </ion-slides>
</div>




<!--  -->